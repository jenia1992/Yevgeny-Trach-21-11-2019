(this.webpackJsonpweather_herolo=this.webpackJsonpweather_herolo||[]).push([[0],{41:function(e,t,a){e.exports=a(69)},46:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(20),o=a.n(c),i=(a(46),a(10)),l=a(11),s=a(14),u=a(12),p=a(15),h=a(13),d=a(18),m=function(e){var t=e.toggleColorHandler,a=e.toggleWeatherHandler,r=e.isBlack,c=e.isFahren,o=r?"dark":"light";return n.a.createElement("nav",{className:" navbar navbar-expand-lg navbar-".concat(o," bg-").concat(o)},n.a.createElement(d.b,{className:"navbar-brand",to:"/"},"Herolo_Weather"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("button",{className:"btn",name:"togglecolor",onClick:function(e){return t()}}," ",n.a.createElement("input",{type:"checkbox",defaultChecked:!r,"data-toggle":"toggle","data-on":"White","data-off":"Black","data-onstyle":"light","data-offstyle":"dark"})),n.a.createElement("button",{className:"btn",name:"toggleweather",onClick:function(e){return a()}},n.a.createElement("input",{type:"checkbox",defaultChecked:!c,"data-toggle":"toggle","data-on":"Celsius","data-off":"Fahrenheit","data-onstyle":"success","data-offstyle":"danger"}))),n.a.createElement("ul",{className:"navbar-nav "},n.a.createElement("li",null,n.a.createElement(d.b,{to:"/"},"Home")),n.a.createElement("li",null,n.a.createElement(d.b,{to:"/favorite"},"Favorite")))))},y="suggestions changed success",f="current pick setted",v="error over here !!!",g="app theme black/white changed success",b="favorites was updated success",k=a(8),w=a.n(k),E="ljeGGweiPdCVXriEGVMsV19kHSzoKVSY",O=a(22),j=a(40);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.initCall()}},{key:"render",value:function(){return this.props.isBlack?document.getElementById("myBody").setAttribute("class","isBlack"):document.getElementById("myBody").setAttribute("class",""),n.a.createElement("div",{className:this.props.isBlack?"isBlack":""},n.a.createElement(m,{isBlack:this.props.isBlack,isFahren:this.props.isFahren,toggleColorHandler:this.props.toggleColorHandler,toggleWeatherHandler:this.props.toggleWeatherHandler}),n.a.createElement("div",{className:"container"},this.props.children))}}]),t}(r.Component),W=Object(h.b)((function(e){return{isBlack:e.app.isBlack,isFahren:e.app.isFahren}}),(function(e){return{toggleColorHandler:function(){return e((function(e,t){e({type:g,payload:!t().app.isBlack})}))},toggleWeatherHandler:function(){return e((function(e,t){e({type:"app weather type c/f changed success",payload:!t().app.isFahren})}))},initCall:function(){return e((function(e,t){var a="https://dataservice.accuweather.com/currentconditions/v1/215854?apikey=".concat(E);w.a.get(a).then((function(t){e({type:"current weather setted",payload:t.data}),e({type:f,payload:{city:"Tel Aviv",key:"215854"}})})).catch((function(t){e({type:v,payload:t})}));var r="https://dataservice.accuweather.com/forecasts/v1/daily/5day/215854?apikey=".concat(E,"&metric=true");w.a.get(r).then((function(t){e({type:"weekly weather setted",payload:t.data.DailyForecasts})})).catch((function(t){e({type:v,payload:t})}))}))}}}))(x),S=a(17),P=function(e){var t=e.inputValue,a=e.suggestions,r=e.onTextChange,c=e.onSelect;return n.a.createElement("div",{className:"AutoCompleteText mt-3"},n.a.createElement("input",{placeholder:"Enter City...   example:'Tel Aviv'",value:t,onChange:function(e){return r(e.target.value)},type:"text"}),a.length?n.a.createElement("ul",null,a.map((function(e,t){return n.a.createElement("li",{onClick:function(){return c(e)},key:t},e.LocalizedName)}))):null)},I=function(e){var t=e.currentWeather,a=e.city,r=e.fiveNext,c=e.isFahren,o=e.onAddFav,i=function(e){return e<=9?"0"+e:e},l=function(e){var t=9*e/5+32;return Math.floor(t)},s=function(){return null!==localStorage.getItem("myFavWeather")&&""!==a&&(!!JSON.parse(localStorage.getItem("myFavWeather")).map((function(e){return e.city})).includes(a)||void 0)};return n.a.createElement("div",{className:"d-flex flex-column justify-content-between WeatherUI mt-3 "},n.a.createElement("div",{className:"d-flex justify-content-between mt-3"},n.a.createElement("div",{className:"d-flex"},n.a.createElement("img",{src:"https://apidev.accuweather.com/developers/Media/Default/WeatherIcons/".concat(i(t[0].WeatherIcon),"-s.png"),alt:"currentWeatherIcon"}),n.a.createElement("div",{className:"d-flex flex-column justify-content-between ml-3"},n.a.createElement("h3",{className:""},a),c?n.a.createElement("h3",null,l(t[0].Temperature.Metric.Value)," \u2109"):n.a.createElement("h3",null,t[0].Temperature.Metric.Value," \u2103"))),n.a.createElement("div",{className:"mr-2"},n.a.createElement("button",{style:s()?{color:"red"}:null,className:"btn"},n.a.createElement("i",{className:"material-icons"},"favorite")),n.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return o()}}," ",s()?"Del Favorite":"Add Favorite"))),n.a.createElement("div",{className:"d-flex justify-content-around text-center dailyBox pb-3 pt-2"},r&&r.map((function(e,t){return l(e.Temperature.Minimum.Value),n.a.createElement("div",{key:t,className:"d-flex flex-column justify-content-around mt-1"},n.a.createElement("h5",null,(a=e.Date,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(a).getDay()])),c?n.a.createElement("p",null,l(e.Temperature.Minimum.Value)," \u2109"):n.a.createElement("p",null,e.Temperature.Minimum.Value," \u2103"),n.a.createElement("img",{src:"https://apidev.accuweather.com/developers/Media/Default/WeatherIcons/".concat(i(e.Day.Icon),"-s.png"),alt:"dailyIcon"}));var a}))))},C=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(P,{inputValue:this.props.userInputText,onTextChange:this.props.onTextChange,suggestions:this.props.suggestionsArr,onSelect:this.props.onSuggestionSelect}),this.props.currentWeather.length>=1&&n.a.createElement(I,{currentWeather:this.props.currentWeather,city:this.props.currentPick.city,fiveNext:this.props.weeklyWeather,isFahren:this.props.isFahren,onAddFav:this.props.addOrRemoveFavorites}))}}]),t}(r.Component),B=Object(h.b)((function(e){return{userInputText:e.weather.userInput,suggestionsArr:e.weather.suggestions,currentWeather:e.weather.currWeather,currentPick:e.weather.currPick,weeklyWeather:e.weather.fiveNext,isFahren:e.app.isFahren}}),(function(e){return{onTextChange:function(t){return e(function(e){return function(t,a){t({type:"text changed success",payload:e});var r="https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(E,"&q=").concat(a().weather.userInput,"&language=en-us");w.a.get(r).then((function(e){t({type:y,payload:e.data});var r=""!==a().weather.currPick.key?a().weather.currPick:{key:a().weather.suggestions[0].Key,city:a().weather.suggestions[0].LocalizedName},n="https://dataservice.accuweather.com/currentconditions/v1/".concat(r.key,"?apikey=").concat(E);w.a.get(n).then((function(a){t({type:"current weather setted",payload:a.data}),t({type:f,payload:{city:e.data[0].LocalizedName,key:e.data[0].Key}})})).catch((function(e){t({type:v,payload:e})}));var c="https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(r.key,"?apikey=").concat(E,"&metric=true");w.a.get(c).then((function(e){t({type:"weekly weather setted",payload:e.data.DailyForecasts})})).catch((function(e){t({type:v,payload:e})}))})).catch((function(e){t({type:v,payload:e})}))}}(t))},onSuggestionSelect:function(t){return e(function(e){return function(t,a){t({type:"text changed success",payload:e.LocalizedName}),t({type:f,payload:{city:e.LocalizedName,key:e.Key}});var r="https://dataservice.accuweather.com/currentconditions/v1/".concat(a().weather.currPick.key,"?apikey=").concat(E);w.a.get(r).then((function(e){t({type:"current weather setted",payload:e.data})})).catch((function(e){}));var n="https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(a().weather.currPick.key,"?apikey=").concat(E,"&metric=true");w.a.get(n).then((function(e){t({type:"weekly weather setted",payload:e.data.DailyForecasts})})).catch((function(e){})),t({type:y,payload:[]})}}(t))},addOrRemoveFavorites:function(){return e(function(){null===localStorage.getItem("myFavWeather")&&localStorage.setItem("myFavWeather","[]");var e=JSON.parse(localStorage.getItem("myFavWeather")),t=e.map((function(e){return e.city}));return function(a,r){t.includes(r().weather.currPick.city)?(e=e.filter((function(e){return e.city!==r().weather.currPick.city})),localStorage.setItem("myFavWeather",JSON.stringify(e)),a({type:b,payload:e})):(e.push(r().weather.currPick),localStorage.setItem("myFavWeather",JSON.stringify(e)),a({type:b,payload:e}))}}())}}}))(C),D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={favoritesLocalStorage:[],isLoaded:!1,message:""},a.iconNumber=function(e){return e<=9?"0"+e:e},a.cToF=function(e){var t=9*e/5+32;return Math.floor(t)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;null===localStorage.getItem("myFavWeather")?this.setState({message:"add some favorites by the button `add too favorite` at home page"}):this.setState({favoritesLocalStorage:JSON.parse(localStorage.getItem("myFavWeather"))},(function(){e.props.callCurrentWeather(e.state.favoritesLocalStorage),e.setState({isLoaded:!0})}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{height:"35vh"},className:"row d-flex justify-content-around text-center dailyBox mt-5"},""!==this.state.message?n.a.createElement("p",{className:"card-body"},this.state.message):null,this.state.isLoaded&&this.props.favoritesArr.map((function(t,a){return n.a.createElement("div",{key:"fav"+a,className:"d-flex flex-column justify-content-around mt-1"},n.a.createElement("h5",null,t.city),e.props.isFahren?n.a.createElement("p",null,e.cToF(t.Temperature.Metric.Value)," \u2109"):n.a.createElement("p",null,t.Temperature.Metric.Value," \u2103"),n.a.createElement("img",{src:"https://apidev.accuweather.com/developers/Media/Default/WeatherIcons/".concat(e.iconNumber(t.WeatherIcon),"-s.png"),alt:"dailyIcon"}))})))}}]),t}(r.Component),T=Object(h.b)((function(e){return{favoritesArr:e.favorites.favoritesArr,isFavLoad:e.favorites.isFavorite,isFahren:e.app.isFahren}}),(function(e){return{callCurrentWeather:function(t){return e(function(e){return function(t,a){e.map((function(e){var r="https://dataservice.accuweather.com/currentconditions/v1/".concat(e.key,"?apikey=").concat(E);w.a.get(r).then((function(r){t({type:b,payload:[].concat(Object(j.a)(a().favorites.favoritesArr),[F({},r.data[0],{city:e.city})])})})).catch((function(e){}))}))}}(t))}}}))(D),A=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=n.a.createElement(S.c,null,n.a.createElement(S.a,{exact:!0,path:"/",component:B}),n.a.createElement(S.a,{path:"/favorite",component:T}),n.a.createElement(S.a,{component:function(){return n.a.createElement("div",null,"404 Not found ")}}));return n.a.createElement(W,null,e)}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(16);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var L=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t)},H={userInput:"",suggestions:[],currPick:{city:"",key:""},currWeather:[],fiveNext:[],err:""},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"text changed success":return L(e,{userInput:t.payload});case y:return L(e,{suggestions:t.payload.length>3?t.payload.slice(0,3):t.payload});case f:return L(e,{currPick:t.payload});case"current weather setted":return L(e,{currWeather:t.payload});case"weekly weather setted":return L(e,{fiveNext:t.payload});case"weekly weather setted":return L(e,{err:t.payload});default:return e}},z={isFahren:!1,isBlack:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return L(e,{isBlack:t.payload});case"app weather type c/f changed success":return L(e,{isFahren:t.payload});default:return e}},G={favoritesArr:[],isFavorite:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return L(e,{favoritesArr:t.payload,isFavorite:!0});default:return e}},R=Object(M.c)({app:K,weather:J,favorites:_}),q=a(39),U=M.d,X=Object(M.e)(R,U(Object(M.a)(q.a))),Y=n.a.createElement(h.a,{store:X},n.a.createElement(d.a,{basename:"/"},n.a.createElement(A,null)));o.a.render(Y,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.7323fe3b.chunk.js.map